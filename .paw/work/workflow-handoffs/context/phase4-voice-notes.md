These are voice notes that were recorded when reviewing phase four of the implementation. 

I have some comments on the PR about the handoff scenarios and so I just want to talk those through so I can think through the complete. Hand off set. For the specification agent, as I said in my comment, umm, there's a next stage that is either the code researcher. If the code research is, I mean sorry if the spec research is done and there's no sort of like if if if the spec is completed, then the next days would be code researcher. However, users can run the specification which can then generate a spec research that the spec research agent needs to go and run. And so that next stage is conditional about the state of whether this is like going to go to spec research, which then goes back to the spec Asian or if the spec generation is completed and now we're moving on to the code research. 

For the implementation planner agent, there's this like for the planning hand off, it says all modes pause after planning that. We don't have to say that. It's gonna pause when it talks about the next step, so. Really, it's. And and yeah, so the stage is not. Definitely going to move on to the implementation phase one, because in the PR mode the user could make PR comments, in which case they asked the implementation planner to address. Those comments, right. So it's the same agent, it hands off sort of to itself, but in the review context where it's, it's looking at the PR and addressing the review comments. Or if the PR step is, you know, if it's not review strategy PRS, it's review strategy local, then it can, you know, it's basically just saying like ask me or like. Yeah, you can say there yeah there's just no review PR comment. What would what would happen is that the user would just chat with that implementation planner agent to make updates to the plan. So the hand off can mention something like you know ask me to update the plan. Or umm. We can move on to implementation and then that's where the options of like implement, which it shouldn't. It shouldn't require the user to say implement phase one. It should just say implement and then the implementer agent will figure out what phase to work on. Similarly, like the generate prompt for implementer phase one is too verbose, right? It should say. You know, some sort of like terse language like generate implementation prompt. Or generate implementation prompt file or something like that, and then you know if the user ends up saying generate implementation prompt file for phase 4, right, it will do that like the IT should. It should be smart enough to like know how to name those. So if there's not instructions on how prompt files are named, then we might need to include that. 

For the implementer agent and maybe elsewhere where it says semi auto auto immediate handoff, we probably want to specify that's immediate hand off to reviewer. Just because there's two options, review and status, I think that the agent probably figure out which one was more appropriate, but might as well make that explicit. It also says after addressing review comments, hand off to Paw 03 B which is not a full agent name. So unless the agent unless the agent name is like mapped somewhere else. It should say the full agent name. When the user says an agent name, it should be a short name that should be like reviewer, not. Not anything that has like Paw or the numbers in it. It should be like a friendly name where it's you know. Spec. Reviewer. And if we're in the spec phase, it would know that it means spec reviewer. Oh, sorry, no, there's no spec reviewer. It should be spec researcher, and if it's in the spec phase then we know that's a spec researcher. Umm, planner, right? If it's the implementation planner, I should just be able to say planner. Like implementer, reviewer. So if we're in an implementation phase, it should mean the implementation reviewer. Docs PR these short phrases that are shipped from the context make the agent understand what we're talking about. In the implementation reviewer agent, it says all modes pause wait for human PR review. If it's not PR strategy, then that's not true. So if it's the review strategy PRS, yes, that like it'll have to stop there. If it's automatic then the handoff just goes to the next phase. So. That should be clear. 

For the documentary agent. The documentation agent should understand the review process as well and so it should be able to like hand off to itself with a review prompt that says, you know, review the comments on the PR if we're in the PR phase or review strategy for the PR review strategy. I should be able to hand off to the documenter with the with the review sort of mode enabled so that it updates based on the. PR comments. 

In the PR agent it says address review comments on PR number yadda yadda. I don't want to specify the PR. I wanted to know how to find that so and it already does so it should just be review again just like a short one word review. So if I'm in the PR agent and I say review. Or yeah, or I say review PR, right. It should be clear that what that means is to go to the implementer agent and with the expectation that there's APR, review. If I'm in the review strategy, P RS. 

For the understanding agent, the umm. Next steps are conditional based on whether there's the, the. Baseline researcher has done its work right, so it needs to be. Not just going immediately to the impact analysis, right? If the baseline research is not done, then it will have created a prompt and that has to get handed off to the baseline researcher with specific instructions to run the prompt, that is. At the path that the relative path of that prompt file. That's important. And that's the same thing with the spec researcher. The spec researcher. I'm sorry, the spec agent. The spec agent can. Output a prompt file that, when run with the spec researcher, needs to hand off with that specific path, so it's important to make sure that that path is correct to the prompt file that was generated. 

For the review phases, there's a pretty straightforward next step. And actually this might be true in a number of different cases. So we need to reason about the handoffs and if the user says continue to go with the sort of most reasonable next step, you know as if it were in auto or semi auto mode. If the user says continue, just do the next stage. That is like sort of the default stage. 



