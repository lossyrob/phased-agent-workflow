```mermaid
flowchart TD
    step1["Step 1"]:::phasebound
    step2["For each finding or batched group of fin"]:::phasebound
    step3["For EVERY comment, create comprehensive "]:::phasebound
    step4["Generate comprehensive markdown document"]:::phasebound
    step5["For GitHub PRs, create pending review us"]:::phasebound
    step6["For non-GitHub workflows (using git diff"]:::phasebound
    handoff1(["After completing feedback generation: ``"]):::handoff

    %% Sequential flow - refine with decision points
    step1 --> step2
    step2 --> step3
    step3 --> step4
    step4 --> step5
    step5 --> step6

    %% Handoffs - add conditions as needed
    step6 --> handoff1

    %% Styling
    classDef phasebound fill:#f9f,stroke:#333,stroke-width:2px
    classDef handoff fill:#bbf,stroke:#333,stroke-width:2px
```