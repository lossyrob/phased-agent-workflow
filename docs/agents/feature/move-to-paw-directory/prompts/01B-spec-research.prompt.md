---
mode: 'PAW-01B Spec Research Agent'
---
# Spec Research Prompt: PAW Directory Restructure

Update research based on the following questions, which extend on the current research.

Target Branch: feature/move-to-paw-directory
GitHub Issue: https://github.com/lossyrob/phased-agent-workflow/issues/19
Additional Inputs: paw-specification.md

## Questions

1. **Current Path Resolution Logic**: How do PAW agents currently determine and construct paths to artifact files (e.g., `docs/agents/<branch>/Spec.md`)? What is the pattern or logic used across different agent implementations?

2. **WorkflowContext.md Creation and Updates**: Which agents create or update WorkflowContext.md, and what is the current process? How do agents handle scenarios where WorkflowContext.md is missing versus when parameters are provided explicitly?

3. **Work Title Generation**: How and when is Work Title currently generated by PAW agents? Is it always required, or can it be auto-generated from context (GitHub Issue, brief)? What sources are used for generation?

4. **Artifact Path Derivation**: What is the current mechanism for deriving artifact paths from the target branch? Is this logic centralized in one location or duplicated across agent implementations?

5. **Target Branch Usage**: Beyond artifact path construction, how else is the target branch parameter used across PAW agents? (e.g., git operations, PR creation, branch naming)

6. **Path Hardcoding vs. Parameterization**: Are artifact paths hardcoded as string literals in agent implementations, or are they parameterized/computed? If computed, what are the input parameters?

7. **Subdirectory Handling**: How do agents currently handle the creation of subdirectories like `prompts/` within the artifact directory? Is this automatic or explicit?

8. **WorkflowContext.md Field Parsing**: How is WorkflowContext.md currently parsed by agents? What is the expected format, and how extensible is it to adding new fields (like Feature Slug)?

9. **Error Handling for Missing Paths**: How do agents currently behave when expected artifact directories or files don't exist? Do they create directories automatically or fail with errors?

10. **Cross-Agent Path Consistency**: Do all PAW agents use the same logic for path resolution, or are there variations? If there are variations, what are the differences?

11. **Existing Slug or Normalization Utilities**: Are there any existing utilities, functions, or patterns in the codebase for normalizing strings to filesystem-safe formats (e.g., URL slugs, sanitized filenames)?

12. **String Similarity Detection**: Are there any existing utilities or patterns for detecting string similarity (fuzzy matching, edit distance) in the agent implementations or broader codebase?

### Optional External / Context

1. Common industry standards or best practices for filesystem slug normalization (URL slug conventions, reserved filenames, character restrictions)

2. Cross-platform filesystem compatibility considerations (Windows path length limits, case sensitivity differences, prohibited characters)

3. Git repository organization patterns for multi-feature development workflows
