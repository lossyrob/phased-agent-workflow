# Concise PR Descriptions Implementation Plan

## Overview

PR descriptions and comments generated by PAW agents are verbose, reducing readability and discouraging human review. This plan streamlines PR output across all PR-generating agents and removes redundant Implementation Reviewer PR comments.

## Current State Analysis

Four agents generate PR descriptions with varying verbosity:
- **PAW-05 PR**: 11-section Final PR template (most verbose)
- **PAW-03B Impl Reviewer**: Phase PR with objectives, changes, testing
- **PAW-02B Impl Planner**: Planning PR with artifact links
- **PAW-04 Documenter**: Docs PR with documentation summary

The Implementation Reviewer posts timeline comments in two scenarios that go unread:
1. After opening Phase PRs (initial review summary)
2. After addressing review comments (detailed comment tracking)

### Key Discoveries:
- Final PR template at [PAW-05 PR.agent.md:156-224](agents/PAW-05%20PR.agent.md#L156-L224) has 11 sections including subsections
- Phase PR comments at [PAW-03B Impl Reviewer.agent.md:221](agents/PAW-03B%20Impl%20Reviewer.agent.md#L221)
- Review follow-up comments at [PAW-03B Impl Reviewer.agent.md:262-279](agents/PAW-03B%20Impl%20Reviewer.agent.md#L262-L279)
- Workflow mode already differentiates full/minimal but uses same template structure

## Desired End State

1. **Final PRs** use a condensed 5-section template focused on what reviewers need:
   - Summary (from Spec)
   - Changes Summary (bullet list of key changes)
   - Testing (brief status)
   - Artifacts (collapsed or link to Work ID folder)
   - Breaking Changes (if any)

2. **Phase/Planning/Docs PRs** use ultra-minimal descriptions (2-3 lines max)

3. **Implementation Reviewer** stops posting PR timeline comments entirely

4. **Verification**: PR descriptions are â‰¤50% of current length, no timeline comments from Implementation Reviewer

## What We're NOT Doing

- Changing PR title formats (already concise)
- Modifying commit message guidelines
- Changing how agents reply to review comments (thread replies)
- Removing PAW signature from PR descriptions

## Implementation Approach

Apply a "less is more" principle to all PR descriptions. Remove redundant sections from Final PRs, compress intermediate PRs to essentials, and eliminate timeline comments that don't get read.

## Phase Summary

1. **Phase 1: Streamline Final PR Template** - Reduce PAW-05 PR template from 11 sections to 5 essential sections
2. **Phase 2: Minimize Intermediate PR Descriptions** - Compress Planning/Phase/Docs PR descriptions to essentials
3. **Phase 3: Remove Implementation Reviewer PR Comments** - Remove timeline comment posting from PAW-03B

---

## Phase 1: Streamline Final PR Template

### Overview
Replace the 11-section Final PR template in PAW-05 PR with a focused 5-section format.

### Changes Required:

#### 1. PAW-05 PR.agent.md - PR Description Template
**File**: `agents/PAW-05 PR.agent.md`
**Changes**:
- Replace template at lines 156-224 with streamlined version
- Keep: Summary, Changes Summary, Testing, Artifacts, Breaking Changes
- Remove: Related Issues (move to Closes line), Implementation Phases, Documentation Updates, Acceptance Criteria, Open Questions Resolution, Deployment Considerations
- Artifacts section: Single line linking to `.paw/work/<feature-slug>/` folder

**Tests**:
- Run agent linter: `./scripts/lint-agent.sh agents/PAW-05\ PR.agent.md`
- Manual verification: Review template readability and completeness

### Success Criteria:

#### Automated Verification:
- [x] Agent linter passes: `./scripts/lint-agent.sh agents/PAW-05\ PR.agent.md`
- [x] npm run lint passes

#### Manual Verification:
- [ ] New template contains â‰¤5 main sections
- [ ] All critical information (summary, changes, testing, breaking changes) preserved
- [ ] Template is readable without scrolling

### Phase 1 Implementation Notes
Completed. Reduced Final PR template from 11 sections to 5 essential sections:
1. Summary (1-2 sentences instead of paragraphs)
2. Changes (bullet list)
3. Testing (brief status)
4. Breaking Changes
5. Artifacts (collapsed details section)

Moved "Closes <Issue URL>" to top under title. Token reduction: Template went from verbose multi-line sections to concise format.

---

## Phase 2: Minimize Intermediate PR Descriptions

### Overview
Compress Planning, Phase, and Docs PR descriptions to 2-3 essential lines.

### Changes Required:

#### 1. PAW-02B Impl Planner - Planning PR Body
**File**: `agents/PAW-02B Impl Planner.agent.md`
**Changes**:
- Simplify Planning PR body format at lines 283-295
- New format: Single line describing what's planned + link to ImplementationPlan.md + PAW signature

#### 2. PAW-03B Impl Reviewer - Phase PR Body  
**File**: `agents/PAW-03B Impl Reviewer.agent.md`
**Changes**:
- Simplify Phase PR body at lines 209-221
- New format: Phase objective (1 sentence) + what was done (1 line) + PAW signature

#### 3. PAW-04 Documenter - Docs PR Body
**File**: `agents/PAW-04 Documenter.agent.md`
**Changes**:
- Simplify Docs PR body at lines 159-166
- New format: What docs were added/updated (1 line) + PAW signature

**Tests**:
- Run agent linter on each modified agent file
- Manual verification: Review PR body format for conciseness

### Success Criteria:

#### Automated Verification:
- [x] Agent linter passes for all modified files
- [x] npm run lint passes

#### Manual Verification:
- [ ] Each intermediate PR body is â‰¤3 content lines (excluding signature)
- [ ] Essential info preserved (what changed, where to look)

### Phase 2 Implementation Notes
Completed. Simplified all intermediate PR descriptions:
- **Planning PR**: Now single line describing plan + link to ImplementationPlan.md
- **Phase PR**: Now single line with phase objective
- **Docs PR**: Now single line "Documentation for <Work Title>"

All PR bodies now include the PAW signature footer.

---

## Phase 3: Remove Implementation Reviewer PR Comments

### Overview
Stop the Implementation Reviewer from posting timeline comments on PRs since they aren't read.

### Changes Required:

#### 1. PAW-03B Impl Reviewer - Remove Initial Review Comment
**File**: `agents/PAW-03B Impl Reviewer.agent.md`
**Changes**:
- Remove line 221: Post PR timeline comment after Phase PR creation
- The Phase PR body already contains the necessary info

#### 2. PAW-03B Impl Reviewer - Remove Follow-up Summary Comment
**File**: `agents/PAW-03B Impl Reviewer.agent.md`
**Changes**:
- Remove lines 262-279 (Post comprehensive summary comment section)
- Remove quality checklist items referencing summary comments (lines 329, 339)
- Keep the push step (Step 5) - just remove the comment posting

**Tests**:
- Run agent linter: `./scripts/lint-agent.sh agents/PAW-03B\ Impl\ Reviewer.agent.md`
- Manual verification: Verify comment posting instructions are removed

### Success Criteria:

#### Automated Verification:
- [x] Agent linter passes: `./scripts/lint-agent.sh agents/PAW-03B\ Impl\ Reviewer.agent.md`
- [x] npm run lint passes
- [x] grep for "Implementation Reviewer ðŸ¤–" returns 0 matches in agent file

#### Manual Verification:
- [ ] No instructions to post timeline comments remain
- [ ] Push and verify steps still intact

### Phase 3 Implementation Notes
Completed. Removed all PR timeline comment functionality from PAW-03B:
- Removed initial review comment after Phase PR creation
- Removed comprehensive summary comment section for review follow-up
- Removed quality checklist items referencing summary comments
- Updated Outputs section to remove summary comment reference
- Updated Guardrails section to remove summary comment reference

Push functionality retained for both initial review and review comment follow-up.

---

## Cross-Phase Testing Strategy

### Integration Tests:
- All agent files pass linting after changes

### Manual Testing Steps:
1. Review each modified agent for coherent instructions
2. Verify no orphaned references to removed sections
3. Check that PAW signature format is consistent across all PR types

## Performance Considerations

Token savings from smaller PR descriptions - agents will spend fewer tokens generating PR bodies.

## References

- Original Issue: none
- Research: `.paw/work/concise-pr-descriptions/CodeResearch.md`
- PAW-05 PR template: `agents/PAW-05 PR.agent.md:156-224`
- PAW-03B comments: `agents/PAW-03B Impl Reviewer.agent.md:221, 262-279`
